---
description: >-
  ⚠️ This page and sub-pages are relevant only if you installed Forest Admin
  directly on a database (SQL/Mongodb). If you installed in a Rails/Django app,
  you manage your models like you normally would.
---

# Models

Your models are located in `/models`. They control a big part of your Forest UI.

### Reflecting your database changes in your UI

When you install for the first time, Lumber introspects your database and generates your models accordingly.

Afterwards, here's how your database changes can be rendered in your Forest UI:

![](https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LR7SWfEwsNtj\_ZiSkSA%2F-Ls1EQmDxL\_CUA3Np9vM%2F-Ls1EWLDCR-omQ2cNfg5%2FForest-doc-models.jpg?alt=media\&token=f233e868-df07-4071-bcb3-c332304706f8)

### Updating your models automatically

If you made many changes or even added a new table/collection, we recently reintroduced a programmatic way to help you manage the associated file changes:

{% hint style="danger" %}
This feature requires that a liana of **version** 7 or higher.
{% endhint %}

Version 2.2+ of [Forest CLI](https://www.npmjs.com/package/forest-cli) allows you via its `schema:update` command to:

* Generate files which, after introspecting your database, appear to be missing in your folders (`models` , `routes` & `forest`). Eg. Adding a new table and launching `schema:update` within your project directory should generate the associated models/routes & forest files
* Generate a correct project architecture to easily manage multiple databases. After your onboarding (on a single database), update the `config/databases.js` file to add a new connection, launch `schema:update` and your models should be set correctly

{% hint style="warning" %}
`forest schema:update` will **never** modify your code base (remove files, move files, change file content). It's up to you to copy some (or all) of the generated contents into your existing files/folders.
{% endhint %}

Note that `forest schema:update` options are as follows:

* `-c` or `--config` , allowing to specify a path for the config file to user (Default to `./config/databases.js`)
* `-o` or `--output-directory` : Create a directory named after the config parameter provided. It will also redump all the `models/routes/forest` file in a specific directory, allowing the enduser to pick code modification.

This command need to be launched at the root of the project directory, where the `.env` should be, since it is required by `config/databases.js` file.&#x20;

{% hint style="info" %}
Have any models that will always stay hidden? Find out how [you can exclude them](../../how-tos/settings/include-exclude-models.md) and gain on performance.
{% endhint %}

### Enriching your models

Lumber does some of the work for you. However, **you remain in control of your models**.

On the following page, we'll cover how you can enrich your models:

{% content-ref url="enrich-your-models.md" %}
[enrich-your-models.md](enrich-your-models.md)
{% endcontent-ref %}



### The `.forestadmin-schema.json` file

On server start, a `.forestadmin-schema.json` file will be auto-generated in **local (development) environments only.** It reflects:&#x20;

* the **state of your models** (in `/models`)**.**
* your **Forest Admin customisation** (in `/forest`).

{% hint style="info" %}
This file **must be versioned and deployed** for any remote environment (staging, production, etc.), as it will be used to generate your Forest UI.
{% endhint %}

{% hint style="info" %}
We use the environment variable _**NODE\_ENV**  _  to detect if an environment is in development. Setting this variable to either nothing or _**development**_ will regenerate a new _.forestadmin-schema.json_ file every time your app restarts. Using another value will not regenerate the file.
{% endhint %}

{% hint style="warning" %}
A consequence of the above is, **in Production** the `.forestadmin-schema.json` file does **not** update according to your schema changes.
{% endhint %}

{% hint style="danger" %}
**Do not edit this file,** as it could break your interface if the wrong syntax is used.
{% endhint %}

Versioning the`.forestadmin-schema.json` file will also help you visualize your changes:

![](https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LR7SWfEwsNtj\_ZiSkSA%2F-LcecOC6sl4pvNT7gLKI%2F-LcecRPYz9T0g\_e16FWT%2Fversioning.png?alt=media\&token=ded5a007-ccc7-4dd9-82ee-f939cf667a9f)

{% hint style="info" %}
To **disable automatic** Forest Admin schema updates and do it **manually**, follow this [how-to](https://docs.forestadmin.com/documentation/v/v4/how-tos/disable-automatic-forest-admin-schema-update).
{% endhint %}
